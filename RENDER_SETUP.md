# Render Setup Guide for Renvo

This guide details how to deploy the Renvo application to [Render](https://render.com), a modern cloud platform optimized for Node.js applications.

## Prerequisites
- A [Render](https://render.com) account.
- This repository pushed to your GitHub account.
- Neon Database (Postgres) connection string.
- Stripe API Keys.
- Gemini API Key.

## 1. Create Web Service on Render
1.  Log in to your [Render Dashboard](https://dashboard.render.com).
2.  Click **"New +"** and select **"Web Service"**.
3.  Connect your GitHub account if you haven't already.
4.  Search for your `renvo` repository and click **"Connect"**.

## 2. Configuration (Automatic via render.yaml)
1.  Render should detect the `render.yaml` file in the repository.
2.  It will ask you to approve the configuration.
3.  **Instance Type**: Select "Free" (or a paid plan for 24/7 uptime).

## 3. Environment Variables
You will be prompted to enter the values for the environment variables defined in `render.yaml`.
*   `DATABASE_URL`: Your Neon Postgres connection string.
*   `STRIPE_SECRET_KEY`: `sk_...`
*   `STRIPE_PUBLISHABLE_KEY`: `pk_...`
*   `STRIPE_WEBHOOK_SECRET`: `whsec_...`
*   `GEMINI_API_KEY`: Your Google Gemini API Key.

*Note: `SESSION_SECRET` will be auto-generated by Render.*

## 4. Deploy
1.  Click **"Apply"** or **"Create Web Service"**.
2.  Render will start the build process (`npm install && npm run build`).
3.  Once built, it will start the app (`npm start`).
4.  Your app will be live at `https://renvo-xxxx.onrender.com`.

## 5. Post-Deploy
1.  **Stripe Webhook**:
    *   Go to your [Stripe Dashboard > Webhooks](https://dashboard.stripe.com/webhooks).
    *   Add an endpoint: `https://YOUR-RENDER-URL.onrender.com/api/stripe/webhook`
    *   Select events: `checkout.session.completed`, `customer.subscription.updated`, `customer.subscription.deleted`.
    *   Copy the **Signing Secret** (`whsec_...`).
    *   Update the `STRIPE_WEBHOOK_SECRET` in Render dashboard (Environment tab) if it's different from what you initially set.
